----------------------------------------------------------------------------------------------------------------------------------------------------------------
      name:  <unnamed>
       log:  C:\Users\Ben.Davies\Dropbox/relatedness-complexity/logs/regressions.log
  log type:  text
 opened on:   7 Jan 2019, 16:48:28

. 
. * Prepare for battle
. set matsize 5000

. 
. 
. ** DATA IMPORT
. 
. * Import mixed pair attributes
. use "${DATA}/observations/mixed-pairs", clear
(Written by R.              )

. rename local_share LS_acy

. rename location_quotient LQ_acy

. rename mean_local_relatedness MLR_acy

. rename size E_acy

. bysort year: egen E_y = total(E_acy)

. 
. * Import city attributes
. merge m:1 ua year using "${DATA}/observations/cities", nogen

    Result                           # of obs.
    -----------------------------------------
    not matched                             0
    matched                            70,000  
    -----------------------------------------

. rename ua_complexity C_cy

. rename ua_size E_cy

. 
. * Import activity attributes
. merge m:1 act year using "${DATA}/observations/activities", nogen

    Result                           # of obs.
    -----------------------------------------
    not matched                             0
    matched                            70,000  
    -----------------------------------------

. rename act_complexity C_ay

. rename act_size E_ay

. 
. 
. ** WEIGHTED AND TRANSFORMED REGRESSION DATA
. 
. * Drop residual activities
. drop if ind == "XX"
(350 observations deleted)

. 
. * Create city and activity dummies
. egen a = group(act)

. egen c = group(ua)

. egen ac = group(act ua)

. 
. * Identify time variation and declare panel
. drop if inlist(year, 1986, 1996, 2006)  // Use (approx.) decadal data
(29,850 observations deleted)

. egen y = group(year)

. egen ay = group(act year)

. egen cy = group(ua year)

. xtset ac y
       panel variable:  ac (strongly balanced)
        time variable:  y, 1 to 4
                delta:  1 unit

. 
. * Identify complex and simple activities
. egen max_C_ay = max(C_ay), by(act)

. egen min_C_ay = min(C_ay), by(act)

. gen complex_act = min_C_ay > 0

. gen simple_act = max_C_ay < 0

. 
. * Identify complex and simple cities
. egen max_C_cy = max(C_cy), by(ua)

. egen min_C_cy = min(C_cy), by(ua)

. gen complex_ua = min_C_cy > 0

. gen simple_ua = max_C_cy < 0

. 
. * Compute growth rates and relatedness density
. gen G_acy = 100 * ((E_acy / L.E_acy) ^ (1 / (year - L.year)) - 1)
(18,448 missing values generated)

. gen RD_acy = MLR_acy - LS_acy
(9,143 missing values generated)

. 
. * Generate lagged values
. foreach v in LS_acy RD_acy C_cy C_ay LQ_acy {
  2.         gen `v'_L1 = L.`v'
  3. }
(16,982 missing values generated)
(16,982 missing values generated)
(9,950 missing values generated)
(9,950 missing values generated)
(16,982 missing values generated)

. 
. * Initialise weighted data
. gen W_acy = L.E_acy / L.E_y
(16,982 missing values generated)

. global WT [aw = W_acy]

. drop if missing(G_acy)
(18,448 observations deleted)

. 
. * Define program for performing within-data weighted transformations
. capture program drop transform

. program define transform
  1.         syntax [if]
  2.         
.         * Demean local shares and convert from decimals to percentage points
.         capture drop LS_acy_L1_dm 
  3.         summ LS_acy_L1 ${WT} `if'
  4.         gen LS_acy_L1_dm = 100 * (LS_acy_L1 - r(mean))
  5. 
.         * Perform within-data standardisations
.         foreach v in RD_acy C_cy C_ay {
  6.                 capture drop `v'_L1_std 
  7.                 summ `v'_L1 ${WT} `if'
  8.                 gen `v'_L1_std = (`v'_L1 - r(mean)) / r(sd)
  9.         }
 10. 
.         * Generate interaction terms
.         capture drop LSxC_?y RDxC_?y
 11.         gen LSxC_ay = LS_acy_L1_dm * C_ay_L1_std
 12.         gen LSxC_cy = LS_acy_L1_dm * C_cy_L1_std
 13.         gen RDxC_ay = RD_acy_L1_std * C_ay_L1_std
 14.         gen RDxC_cy = RD_acy_L1_std * C_cy_L1_std
 15. end

. 
. * Perform weighted transformations
. transform

    Variable |     Obs      Weight        Mean   Std. Dev.       Min        Max
-------------+-----------------------------------------------------------------
   LS_acy_L1 |  21,352  2.46744153    .0139636   .0170877   .0000559   .2364017

    Variable |     Obs      Weight        Mean   Std. Dev.       Min        Max
-------------+-----------------------------------------------------------------
   RD_acy_L1 |  21,352  2.46744153    .4995447   .0423933    .317207   .7034064

    Variable |     Obs      Weight        Mean   Std. Dev.       Min        Max
-------------+-----------------------------------------------------------------
     C_cy_L1 |  21,352  2.46744153    .9906568   1.074616   -1.30504   2.477795

    Variable |     Obs      Weight        Mean   Std. Dev.       Min        Max
-------------+-----------------------------------------------------------------
     C_ay_L1 |  21,352  2.46744153    .1639203   1.033845   -1.59214   2.117804

. 
. * Print descriptive statistics for transformed data
. global VARS E_acy G* *_dm *_std

. summ ${VARS}

    Variable |        Obs        Mean    Std. Dev.       Min        Max
-------------+---------------------------------------------------------
       E_acy |     21,352    146.8366    391.8122          6      13620
       G_acy |     21,352     .626517    5.011666  -32.93539    34.7017
LS_acy_L1_dm |     21,352   -.8176076    .9210899   -1.39077    22.2438
RD_acy_L1_~d |     21,352    .2107096    1.065689  -4.301096   4.808818
 C_cy_L1_std |     21,352   -.7292491    .9552784  -2.136295   1.383879
-------------+---------------------------------------------------------
 C_ay_L1_std |     21,352   -.1966433    .9748664  -1.698573    1.88992

. summ ${VARS} ${WT}

    Variable |     Obs      Weight        Mean   Std. Dev.       Min        Max
-------------+-----------------------------------------------------------------
       E_acy |  21,352  2.46744153    1011.155   1686.633          6      13620
       G_acy |  21,352  2.46744153    .1898679   4.419822  -32.93539    34.7017
LS_acy_L1_dm |  21,352  2.46744153    1.49e-10   1.708772   -1.39077    22.2438
RD_acy_L1_~d |  21,352  2.46744153   -5.71e-11          1  -4.301096   4.808818
 C_cy_L1_std |  21,352  2.46744153   -1.02e-09          1  -2.136295   1.383879
-------------+-----------------------------------------------------------------
 C_ay_L1_std |  21,352  2.46744153   -1.30e-09          1  -1.698573    1.88992

. 
. * Print weighted correlation matrix
. corr G_acy LS_acy_L1_dm RD_acy_L1_std C_ay_L1_std C_cy_L1_std ${WT}
(sum of wgt is   2.4674e+00)
(obs=21,352)

             |    G_acy LS_acy~m RD_acy~d C_ay_L~d C_cy_L~d
-------------+---------------------------------------------
       G_acy |   1.0000
LS_acy_L1_dm |  -0.0063   1.0000
RD_acy_L1_~d |  -0.0593  -0.1584   1.0000
 C_ay_L1_std |   0.1977   0.0997  -0.0742   1.0000
 C_cy_L1_std |   0.0938  -0.1583  -0.0880   0.0924   1.0000


. 
. 
. ** MAIN REGRESSIONS
. 
. * Generate regression table
. eststo clear

. eststo: qui reg G_acy LS_acy_L1_dm RD_acy_L1_std C_ay_L1_std LSxC_ay RDxC_ay ${WT}, robust
(est1 stored)

. eststo: qui reg G_acy LS_acy_L1_dm RD_acy_L1_std C_ay_L1_std LSxC_ay RDxC_ay C_cy_L1_std LSxC_cy RDxC_cy ${WT}, robust
(est2 stored)

. eststo: qui areg G_acy LS_acy_L1_dm RD_acy_L1_std LSxC_cy RDxC_cy LSxC_ay RDxC_ay i.cy ${WT}, a(ay) robust
(est3 stored)

. estadd local ay_fe "Yes", replace

added macro:
              e(ay_fe) : "Yes"

. esttab, b(3) se r2 indicate("cy FEs = *.cy") s(ay_fe N r2, label("ay FEs" "Obs"))

------------------------------------------------------------
                      (1)             (2)             (3)   
                    G_acy           G_acy           G_acy   
------------------------------------------------------------
LS_acy_L1_dm       -0.060          -0.079          -0.266***
                  (0.038)         (0.048)         (0.044)   

RD_acy_L1_~d       -0.209***       -0.131*          0.059   
                  (0.063)         (0.059)         (0.032)   

C_ay_L1_std         0.887***        0.975***                
                  (0.062)         (0.068)                   

LSxC_ay             0.189***        0.204***       -0.137*  
                  (0.043)         (0.043)         (0.060)   

RDxC_ay             0.076           0.035           0.030   
                  (0.053)         (0.057)         (0.040)   

C_cy_L1_std                         0.288***                
                                  (0.058)                   

LSxC_cy                            -0.085*         -0.084***
                                  (0.041)         (0.023)   

RDxC_cy                            -0.362***       -0.142***
                                  (0.053)         (0.026)   

_cons               0.163**         0.103          -0.779   
                  (0.060)         (0.063)         (0.399)   

cy FEs                 No              No             Yes   
------------------------------------------------------------
ay FEs                                                Yes   
Obs             21352.000       21352.000       21352.000   
r2                  0.047           0.057           0.719   
------------------------------------------------------------
Standard errors in parentheses
* p<0.05, ** p<0.01, *** p<0.001

. esttab using "${TABS}/full.csv", b(3) se r2 indicate("cy FEs = *.cy") s(ay_fe N r2, label("ay FEs" "Obs")) replace
(output written to C:\Users\Ben.Davies\Dropbox/relatedness-complexity/tables/regressions/full.csv)

. 
. * Define preferred model specification
. global SPEC qui areg G_acy LS_acy_L1_dm RD_acy_L1_std LSxC_ay RDxC_ay LSxC_cy RDxC_cy i.cy ${WT}

. 
. 
. ** COMPLEXITY SUBSAMPLE REGRESSIONS
. 
. * Tabulate complexity subsamples
. table act year if complex_act, c(count G_acy) row col

--------------------------------------
          |            year           
      act |  1991   2001   2013  Total
----------+---------------------------
  CC411.7 |    35     35     32    102
   CC5_.1 |    23     26     31     80
   CC5_.2 |    16     17     17     50
  CC821.1 |    17     19     21     57
  CC821.3 |    23     25     26     74
  CC91_.1 |    19     26     28     73
  FF110.1 |    24     32     34     90
  FF110.3 |    25     30     32     87
  FF110.4 |    23     24     28     75
  FF110.5 |    26     28     32     86
  FF110.9 |    23     24     24     71
  FF111.1 |    36     41     44    121
  FF114.1 |    27     28     31     86
  FF11_.1 |    30     41     42    113
  FF11_.3 |    29     35     40    104
  FF11_.4 |    30     33     40    103
  GH122.1 |    41     40     40    121
  GH122.5 |    46     45     40    131
  GH130.1 |    39     46     46    131
  GH130.2 |    39     39     40    118
  GH132.4 |    31     28     27     86
  GH21_.1 |    50     50     50    150
  GH21_.4 |    37     39     43    119
  GH21_.5 |    50     50     50    150
  II123.3 |    23     24     28     75
  II123.5 |    10     10     15     35
  JJ11_.3 |    39     44     43    126
  JJ11_.4 |    35     31     27     93
  JJ120.1 |    26     16     17     59
  JJ120.2 |    19     17     18     54
  JJ120.3 |    48     27     23     98
  JJ120.4 |    37     17     15     69
  JJ123.4 |    25     27     23     75
  KK110.1 |    34     43     42    119
  KK110.2 |    19     21     33     73
  KK110.3 |    22     23     26     71
  KK110.4 |    50     50     50    150
   KK1_.1 |    21     28     32     81
   KK1_.3 |    47     44     43    134
   KK1_.4 |    35     36     35    106
  LL12_.3 |    42     47     46    135
  LL12_.4 |    30     38     42    110
  MN11_.2 |    50     50     50    150
  MN11_.3 |    38     50     50    138
  MN11_.4 |    50     50     50    150
  MN21_.2 |    26     26     34     86
  MN21_.3 |    38     41     43    122
  MN21_.4 |    34     41     42    117
  OO111.2 |    39     39     39    117
  OO211.1 |    26     30     29     85
  OO211.2 |    37     38     33    108
  OO211.4 |    46     47     37    130
  OO21_.4 |    13     21     33     67
  PP11_.1 |    34     47     49    130
  PP11_.2 |    50     50     50    150
  QQ11_.2 |    50     50     50    150
  RS11_.3 |    38     41     45    124
  RS11_.4 |    40     37     36    113
  RS219.1 |    23     26     34     83
  RS219.2 |    47     47     47    141
  RS219.3 |    25     30     39     94
  RS219.4 |    33     34     36    103
          | 
    Total | 2,038  2,139  2,222  6,399
--------------------------------------

. table act year if simple_act, c(count G_acy) row col

------------------------------------------
          |              year             
      act |   1991    2001    2013   Total
----------+-------------------------------
  AA111.6 |     44      46      41     131
  AA121.6 |     50      45      44     139
  AA131.6 |     34      34      44     112
  AA141.6 |     36      38      38     112
  AA211.6 |     30      31      31      92
  AA320.6 |     49      48      46     143
  BB11_.8 |     27      26      24      77
  CC131.8 |     30      27      30      87
  CC141.4 |     25      24      22      71
  CC141.7 |     40      37      36     113
  CC141.8 |     35      38      42     115
  CC141.9 |     31      33      33      97
   CC1_.4 |     30      26      28      84
   CC1_.7 |     31      35      33      99
   CC1_.8 |     43      45      47     135
   CC1_.9 |     38      42      41     121
  CC211.8 |     32      31      27      90
  CC311.7 |     43      44      43     130
  CC311.8 |     38      41      42     121
  CC311.9 |     42      43      39     124
  CC321.8 |     22      17      15      54
   CC5_.4 |     22      21      27      70
   CC5_.7 |     23      21      23      67
   CC5_.8 |     32      33      35     100
   CC5_.9 |     25      23      30      78
  CC611.8 |     38      35      34     107
  CC711.8 |     16      15      14      45
  CC721.1 |     26      33      37      96
  CC721.3 |     19      20      23      62
  CC721.4 |     27      26      26      79
  CC721.7 |     46      45      43     134
  CC721.8 |     31      36      43     110
  CC721.9 |     25      27      32      84
  CC811.7 |     35      34      34     103
  CC811.8 |     23      16      20      59
  CC821.8 |     21      17      14      52
  CC821.9 |     18      15      15      48
  CC822.1 |     27      36      37     100
  CC822.3 |     20      20      25      65
  CC822.4 |     28      30      27      85
  CC822.7 |     45      45      43     133
  CC822.8 |     28      30      34      92
  CC91_.8 |     27      29      22      78
   DD1_.3 |     36      27      27      90
   DD1_.8 |     49      42      38     129
   DD1_.9 |     33      27      30      90
  EE110.4 |     32      29      30      91
  EE110.7 |     50      50      50     150
  EE110.9 |     30      29      34      93
  EE113.7 |     44      45      41     130
   EE1_.4 |     45      46      48     139
   EE1_.7 |     50      50      50     150
   EE1_.8 |     50      50      50     150
   EE1_.9 |     47      49      50     146
  FF111.3 |     44      40      42     126
  FF111.5 |     32      31      40     103
  FF111.8 |     25      27      34      86
  FF111.9 |     27      26      30      83
  FF114.5 |     26      33      36      95
  FF114.8 |     25      27      27      79
  FF114.9 |     28      25      27      80
  FF11_.7 |     33      40      39     112
  GH111.1 |     42      45      46     133
  GH111.4 |     44      38      35     117
  GH111.5 |     46      40      41     127
  GH111.7 |     47      44      42     133
  GH111.9 |     31      32      36      99
  GH112.1 |     33      40      35     108
  GH112.5 |     49      49      47     145
  GH121.1 |     49      50      50     149
  GH121.4 |     39      49      50     138
  GH121.5 |     50      50      50     150
  GH121.9 |     37      43      42     122
  GH122.7 |     46      38      31     115
  GH130.3 |     34      38      40     112
  GH130.9 |     32      28      31      91
  GH131.4 |     44      44      41     129
  GH131.5 |     50      50      50     150
  GH131.7 |     42      38      35     115
  GH131.9 |     35      34      35     104
  GH133.5 |     44      44      45     133
  GH21_.9 |     45      46      48     139
  II111.1 |     30      40      41     111
  II111.4 |     42      39      38     119
  II111.8 |     50      50      50     150
  MN21_.9 |     48      50      50     148
  OO111.3 |     29      39      40     108
  OO111.4 |     44      44      43     131
  PP11_.5 |     29      32      37      98
  PP11_.9 |     49      49      49     147
  QQ11_.5 |     50      50      50     150
  QQ11_.8 |     34      29      30      93
  QQ11_.9 |     40      43      47     130
  RS11_.6 |     41      38      38     117
  RS210.5 |     50      50      50     150
  RS210.8 |     38      40      36     114
  RS211.4 |     34      35      40     109
  RS211.7 |     50      50      50     150
          | 
    Total |  3,555   3,569   3,626  10,750
------------------------------------------

. table ua year if complex_ua, c(count G_acy) row col

--------------------------------------
          |            year           
       ua |  1991   2001   2013  Total
----------+---------------------------
        2 |   199    199    199    597
        3 |   199    199    199    597
        4 |   199    199    199    597
        5 |   199    199    199    597
       12 |   192    187    189    568
       17 |   186    186    182    554
       18 |   196    194    193    583
       20 |   197    195    193    585
       22 |   199    199    199    597
          | 
    Total | 1,766  1,757  1,752  5,275
--------------------------------------

. table ua year if simple_ua, c(count G_acy) row col

--------------------------------------
          |            year           
       ua |  1991   2001   2013  Total
----------+---------------------------
        1 |   185    189    182    556
        7 |   112    134    148    394
        8 |    95    109    129    333
       15 |   178    177    176    531
       16 |   196    196    194    586
       25 |   159    172    175    506
      103 |   109    126    140    375
      105 |   105    112    106    323
      106 |   124    139    150    413
      107 |   127    145    146    418
      109 |   147    144    150    441
      112 |   130    138    148    416
      113 |   170    165    169    504
      114 |   104    101    110    315
      116 |    81    113    146    340
      217 |    52     62     60    174
      226 |    69     69     73    211
      231 |    56     60     83    199
      232 |    64     68     79    211
      235 |    49     59     61    169
      245 |    59     52     56    167
      249 |    60     61     63    184
      290 |    52     52     51    155
      301 |    97     97    101    295
          | 
    Total | 2,580  2,740  2,896  8,216
--------------------------------------

. 
. * Clear regression table
. eststo clear

. 
. * Regress on full data
. transform

    Variable |     Obs      Weight        Mean   Std. Dev.       Min        Max
-------------+-----------------------------------------------------------------
   LS_acy_L1 |  21,352  2.46744153    .0139636   .0170877   .0000559   .2364017

    Variable |     Obs      Weight        Mean   Std. Dev.       Min        Max
-------------+-----------------------------------------------------------------
   RD_acy_L1 |  21,352  2.46744153    .4995447   .0423933    .317207   .7034064

    Variable |     Obs      Weight        Mean   Std. Dev.       Min        Max
-------------+-----------------------------------------------------------------
     C_cy_L1 |  21,352  2.46744153    .9906568   1.074616   -1.30504   2.477795

    Variable |     Obs      Weight        Mean   Std. Dev.       Min        Max
-------------+-----------------------------------------------------------------
     C_ay_L1 |  21,352  2.46744153    .1639203   1.033845   -1.59214   2.117804

. eststo: ${SPEC}, a(ay) robust
(est1 stored)

. estadd local ay_fe "Yes", replace

added macro:
              e(ay_fe) : "Yes"

. 
. * Regress on complex activities
. transform if complex_act

    Variable |     Obs      Weight        Mean   Std. Dev.       Min        Max
-------------+-----------------------------------------------------------------
   LS_acy_L1 |   6,399  1.02646609    .0187534   .0177146   .0001206   .2364017

    Variable |     Obs      Weight        Mean   Std. Dev.       Min        Max
-------------+-----------------------------------------------------------------
   RD_acy_L1 |   6,399  1.02646609    .4915625   .0454744    .317207   .6473819

    Variable |     Obs      Weight        Mean   Std. Dev.       Min        Max
-------------+-----------------------------------------------------------------
     C_cy_L1 |   6,399  1.02646609    1.068108   1.024006   -1.30504   2.477795

    Variable |     Obs      Weight        Mean   Std. Dev.       Min        Max
-------------+-----------------------------------------------------------------
     C_ay_L1 |   6,399  1.02646609     1.18205   .5368089   .0316135   2.117804

. eststo: ${SPEC} if complex_act, a(ay) robust
(est2 stored)

. estadd local ay_fe "Yes", replace

added macro:
              e(ay_fe) : "Yes"

. 
. * Regress on simple activities
. transform if simple_act

    Variable |     Obs      Weight        Mean   Std. Dev.       Min        Max
-------------+-----------------------------------------------------------------
   LS_acy_L1 |  10,750  .997800116    .0115837   .0182584   .0000559   .2315634

    Variable |     Obs      Weight        Mean   Std. Dev.       Min        Max
-------------+-----------------------------------------------------------------
   RD_acy_L1 |  10,750  .997800116    .5054802     .04042   .3739043   .7034064

    Variable |     Obs      Weight        Mean   Std. Dev.       Min        Max
-------------+-----------------------------------------------------------------
     C_cy_L1 |  10,750  .997800116    .8903699   1.118529   -1.30504   2.477795

    Variable |     Obs      Weight        Mean   Std. Dev.       Min        Max
-------------+-----------------------------------------------------------------
     C_ay_L1 |  10,750  .997800116   -.8312584   .3530611   -1.59214   -.000818

. eststo: ${SPEC} if simple_act, a(ay) robust
(est3 stored)

. estadd local ay_fe "Yes", replace

added macro:
              e(ay_fe) : "Yes"

. 
. * Regress on other activities
. transform if !complex_act & !simple_act

    Variable |     Obs      Weight        Mean   Std. Dev.       Min        Max
-------------+-----------------------------------------------------------------
   LS_acy_L1 |   4,203  .443175315    .0082281   .0070448   .0001851   .0865385

    Variable |     Obs      Weight        Mean   Std. Dev.       Min        Max
-------------+-----------------------------------------------------------------
   RD_acy_L1 |   4,203  .443175315    .5046692   .0358588   .3480548   .6696971

    Variable |     Obs      Weight        Mean   Std. Dev.       Min        Max
-------------+-----------------------------------------------------------------
     C_cy_L1 |   4,203  .443175315     1.03706   1.070462   -1.30504   2.477795

    Variable |     Obs      Weight        Mean   Std. Dev.       Min        Max
-------------+-----------------------------------------------------------------
     C_ay_L1 |   4,203  .443175315    .0463914    .598498  -1.157025   1.740977

. eststo: ${SPEC} if !complex_act & !simple_act, a(ay) robust
(est4 stored)

. estadd local ay_fe "Yes", replace

added macro:
              e(ay_fe) : "Yes"

. 
. * Regress on complex cities
. transform if complex_ua

    Variable |     Obs      Weight        Mean   Std. Dev.       Min        Max
-------------+-----------------------------------------------------------------
   LS_acy_L1 |   5,275  1.47480626    .0120204   .0125043   .0000559   .0628303

    Variable |     Obs      Weight        Mean   Std. Dev.       Min        Max
-------------+-----------------------------------------------------------------
   RD_acy_L1 |   5,275  1.47480626    .4976089   .0456142   .3739043   .6185404

    Variable |     Obs      Weight        Mean   Std. Dev.       Min        Max
-------------+-----------------------------------------------------------------
     C_cy_L1 |   5,275  1.47480626    1.743264   .5249087   .1529057   2.477795

    Variable |     Obs      Weight        Mean   Std. Dev.       Min        Max
-------------+-----------------------------------------------------------------
     C_ay_L1 |   5,275  1.47480626     .281712   1.040349   -1.59214   2.117804

. eststo: ${SPEC} if complex_ua, a(ay) robust
(est5 stored)

. estadd local ay_fe "Yes", replace

added macro:
              e(ay_fe) : "Yes"

. 
. * Regress on simple cities
. transform if simple_ua

    Variable |     Obs      Weight        Mean   Std. Dev.       Min        Max
-------------+-----------------------------------------------------------------
   LS_acy_L1 |   8,216  .343594791    .0181725   .0226753   .0001859   .2115059

    Variable |     Obs      Weight        Mean   Std. Dev.       Min        Max
-------------+-----------------------------------------------------------------
   RD_acy_L1 |   8,216  .343594791    .5082646   .0429187    .317207   .7034064

    Variable |     Obs      Weight        Mean   Std. Dev.       Min        Max
-------------+-----------------------------------------------------------------
     C_cy_L1 |   8,216  .343594791   -.5453964   .3097709   -1.30504    -.00886

    Variable |     Obs      Weight        Mean   Std. Dev.       Min        Max
-------------+-----------------------------------------------------------------
     C_ay_L1 |   8,216  .343594791    -.054472   .9899836   -1.59214   2.117804

. eststo: ${SPEC} if simple_ua, a(ay) robust
(est6 stored)

. estadd local ay_fe "Yes", replace

added macro:
              e(ay_fe) : "Yes"

. 
. * Regress on other cities
. transform if !complex_ua & !simple_ua

    Variable |     Obs      Weight        Mean   Std. Dev.       Min        Max
-------------+-----------------------------------------------------------------
   LS_acy_L1 |   7,861  .649040474    .0161511    .021446   .0001206   .2364017

    Variable |     Obs      Weight        Mean   Std. Dev.       Min        Max
-------------+-----------------------------------------------------------------
   RD_acy_L1 |   7,861  .649040474    .4993272   .0328843   .3623998   .6680333

    Variable |     Obs      Weight        Mean   Std. Dev.       Min        Max
-------------+-----------------------------------------------------------------
     C_cy_L1 |   7,861  .649040474    .0936868   .6103851  -1.072149   1.969794

    Variable |     Obs      Weight        Mean   Std. Dev.       Min        Max
-------------+-----------------------------------------------------------------
     C_ay_L1 |   7,861  .649040474    .0118782   1.002867   -1.59214   2.117804

. eststo: ${SPEC} if !complex_ua & !simple_ua, a(ay) robust
(est7 stored)

. estadd local ay_fe "Yes", replace

added macro:
              e(ay_fe) : "Yes"

. 
. * Generate regression table
. esttab, b(3) se r2 indicate("cy FEs = *.cy") s(ay_fe N r2, label("ay FEs" "Obs")) mtitles("Full" "Comp acts" "Simp acts" "Other acts" "Comp UAs" "Simp UAs" "O
> ther UAs")

----------------------------------------------------------------------------------------------------------------------------
                      (1)             (2)             (3)             (4)             (5)             (6)             (7)   
                     Full       Comp acts       Simp acts      Other acts        Comp UAs        Simp UAs       Other UAs   
----------------------------------------------------------------------------------------------------------------------------
LS_acy_L1_dm       -0.266***       -0.291***       -0.260***       -1.586***       -0.585**        -0.458***       -0.344***
                  (0.044)         (0.079)         (0.063)         (0.180)         (0.179)         (0.068)         (0.060)   

RD_acy_L1_~d        0.059          -0.178*         -0.664***       -0.271***        0.033           0.211*         -0.094   
                  (0.032)         (0.072)         (0.076)         (0.065)         (0.061)         (0.095)         (0.066)   

LSxC_ay            -0.137*          0.062          -0.423**        -1.086***        0.234          -0.397***       -0.060   
                  (0.060)         (0.056)         (0.143)         (0.317)         (0.140)         (0.108)         (0.085)   

RDxC_ay             0.030          -0.112          -0.047           0.050          -0.047          -0.163           0.065   
                  (0.040)         (0.064)         (0.044)         (0.060)         (0.072)         (0.089)         (0.072)   

LSxC_cy            -0.084***       -0.152***        0.008          -0.309**        -0.115***       -0.035           0.017   
                  (0.023)         (0.026)         (0.053)         (0.095)         (0.032)         (0.038)         (0.027)   

RDxC_cy            -0.142***       -0.063           0.272**         0.116*          0.097**        -0.067           0.098***
                  (0.026)         (0.045)         (0.089)         (0.051)         (0.031)         (0.051)         (0.030)   

_cons              -0.779          -0.884**         0.806          -0.693           0.656***       -1.195**         1.062*  
                  (0.399)         (0.300)         (0.499)         (0.369)         (0.097)         (0.382)         (0.422)   

cy FEs                Yes             Yes             Yes             Yes             Yes             Yes             Yes   
----------------------------------------------------------------------------------------------------------------------------
ay FEs                Yes             Yes             Yes             Yes             Yes             Yes             Yes   
Obs             21352.000        6399.000       10750.000        4203.000        5275.000        8216.000        7861.000   
r2                  0.719           0.783           0.623           0.830           0.836           0.603           0.727   
----------------------------------------------------------------------------------------------------------------------------
Standard errors in parentheses
* p<0.05, ** p<0.01, *** p<0.001

. esttab using "${TABS}/complexity.csv", b(3) se r2 indicate("cy FEs = *.cy") s(ay_fe N r2, label("ay FEs" "Obs")) mtitles("Full" "Comp acts" "Simp acts" "Other
>  acts" "Comp UAs" "Simp UAs" "Other UAs") replace
(output written to C:\Users\Ben.Davies\Dropbox/relatedness-complexity/tables/regressions/complexity.csv)

. 
. 
. ** OVER-REPRESENTATION SUBSAMPLE REGRESSIONS
. 
. * Identify over-representation subsamples
. gen overrep = cond(LQ_acy_L1 >= 1, 1, 0)

. table year overrep, c(count G_acy) row col

----------------------------------
          |        overrep        
     year |      0       1   Total
----------+-----------------------
     1991 |  3,338   3,546   6,884
     2001 |  3,435   3,684   7,119
     2013 |  3,616   3,733   7,349
          | 
    Total | 10,389  10,963  21,352
----------------------------------

. table ua year if overrep, c(count G_acy) row col

------------------------------------------
          |              year             
       ua |   1991    2001    2013   Total
----------+-------------------------------
        1 |     88      97     102     287
        2 |    104      87      86     277
        3 |     89      97     107     293
        4 |    102      89      75     266
        5 |     83      99      98     280
        6 |     88      93      87     268
        7 |     77      79      87     243
        8 |     63      68      79     210
        9 |     93     104      99     296
       10 |     81      85      77     243
       11 |     82      84      77     243
       12 |     71      79      79     229
       13 |     58      47      62     167
       14 |     98      99      97     294
       15 |     80      87      83     250
       16 |     82      85      80     247
       17 |     77      91      86     254
       18 |     91     103      82     276
       19 |     68      71      71     210
       20 |     81      61      49     191
       21 |     87      66      74     227
       22 |     88      96      96     280
       23 |     76      74      81     231
       24 |     70      68      81     219
       25 |    109     106     102     317
       26 |     80      74      67     221
      101 |     78      83     101     262
      102 |     20      40      40     100
      103 |     65      70      75     210
      104 |     71      86      73     230
      105 |     65      67      66     198
      106 |     68      89     101     258
      107 |     78      73      79     230
      109 |     80      93      83     256
      111 |     60      76      80     216
      112 |     79      71      84     234
      113 |     93      81      77     251
      114 |     70      62      65     197
      116 |     58      88      92     238
      117 |     35      43      40     118
      217 |     30      47      49     126
      226 |     51      54      58     163
      231 |     49      40      62     151
      232 |     57      57      63     177
      235 |     36      48      46     130
      245 |     50      43      41     134
      249 |     47      49      55     151
      273 |     33      34      43     110
      290 |     45      42      39     126
      301 |     62      59      57     178
          | 
    Total |  3,546   3,684   3,733  10,963
------------------------------------------

. table ind year if overrep, c(count G_acy) row col

------------------------------------------
          |              year             
      ind |   1991    2001    2013   Total
----------+-------------------------------
    AA111 |     17      19      16      52
    AA121 |     37      31      30      98
    AA131 |     21      21      29      71
    AA141 |     23      27      25      75
    AA211 |     18      16      19      53
    AA320 |     33      34      32      99
    BB11_ |     12      15      15      42
    CC131 |     14      18      21      53
    CC141 |     99     102     118     319
     CC1_ |     77      88      91     256
    CC211 |     17      14      12      43
    CC212 |     20      21      11      52
    CC311 |     62      74      84     220
    CC321 |      8       7       9      24
    CC411 |     21      24      22      67
     CC5_ |     67      78      86     231
    CC611 |     11      19      19      49
    CC711 |      6       7       8      21
    CC721 |     46      79      86     211
    CC811 |     20      23      27      70
    CC821 |     53      53      38     144
    CC822 |     75      95     105     275
    CC91_ |     34      42      37     113
     DD1_ |     99      85      82     266
    EE110 |     80      63      74     217
    EE113 |     25      25      24      74
     EE1_ |    180     178     207     565
    FF110 |     37      37      35     109
    FF111 |    123     113     127     363
    FF114 |     94     101     102     297
    FF11_ |     81      77      85     243
    GH111 |    148     136     147     431
    GH112 |     60      59      60     179
    GH121 |    105     125     141     371
    GH122 |     80      77      57     214
    GH130 |    137     133     124     394
    GH131 |    165     166     155     486
    GH132 |     81      85      53     219
    GH133 |     34      38      64     136
    GH21_ |    114      99      93     306
    II111 |     84      98     108     290
    II123 |     15      16      19      50
    II13_ |     36      39      44     119
    JJ11_ |     33      43      38     114
    JJ120 |     52      38      35     125
    JJ123 |     12      14      10      36
    KK110 |     46      39      34     119
     KK1_ |     28      29      23      80
    LL12_ |     32      33      36     101
    MN11_ |     62      37      27     126
    MN21_ |     57      67      62     186
    OO111 |     74      79      81     234
    OO211 |     68      79      60     207
    OO21_ |     17      16      26      59
    PP11_ |    103     150     144     397
    QQ11_ |    153     170     180     503
    RS11_ |     80      62      58     200
    RS210 |     55      59      54     168
    RS211 |     56      57      68     181
    RS219 |     49      55      56     160
          | 
    Total |  3,546   3,684   3,733  10,963
------------------------------------------

. table occ year if overrep, c(count G_acy) row col

------------------------------------------
          |              year             
      occ |   1991    2001    2013   Total
----------+-------------------------------
        1 |    454     505     489   1,448
        2 |    183     188     152     523
        3 |    393     375     398   1,166
        4 |    616     650     620   1,886
        5 |    518     506     535   1,559
        6 |    177     172     174     523
        7 |    387     406     414   1,207
        8 |    387     420     432   1,239
        9 |    431     462     519   1,412
          | 
    Total |  3,546   3,684   3,733  10,963
------------------------------------------

. 
. * Clear regression table
. eststo clear

. 
. * Regress on full data
. transform

    Variable |     Obs      Weight        Mean   Std. Dev.       Min        Max
-------------+-----------------------------------------------------------------
   LS_acy_L1 |  21,352  2.46744153    .0139636   .0170877   .0000559   .2364017

    Variable |     Obs      Weight        Mean   Std. Dev.       Min        Max
-------------+-----------------------------------------------------------------
   RD_acy_L1 |  21,352  2.46744153    .4995447   .0423933    .317207   .7034064

    Variable |     Obs      Weight        Mean   Std. Dev.       Min        Max
-------------+-----------------------------------------------------------------
     C_cy_L1 |  21,352  2.46744153    .9906568   1.074616   -1.30504   2.477795

    Variable |     Obs      Weight        Mean   Std. Dev.       Min        Max
-------------+-----------------------------------------------------------------
     C_ay_L1 |  21,352  2.46744153    .1639203   1.033845   -1.59214   2.117804

. eststo: ${SPEC}, a(ay) robust
(est1 stored)

. estadd local ay_fe "Yes", replace

added macro:
              e(ay_fe) : "Yes"

. 
. * Regress on over-represented activities
. transform if overrep == 1

    Variable |     Obs      Weight        Mean   Std. Dev.       Min        Max
-------------+-----------------------------------------------------------------
   LS_acy_L1 |  10,963  1.46994807    .0166955    .019861   .0005854   .2364017

    Variable |     Obs      Weight        Mean   Std. Dev.       Min        Max
-------------+-----------------------------------------------------------------
   RD_acy_L1 |  10,963  1.46994807    .5179059   .0370517   .3525069   .7034064

    Variable |     Obs      Weight        Mean   Std. Dev.       Min        Max
-------------+-----------------------------------------------------------------
     C_cy_L1 |  10,963  1.46994807    .9012428   1.089357   -1.30504   2.477795

    Variable |     Obs      Weight        Mean   Std. Dev.       Min        Max
-------------+-----------------------------------------------------------------
     C_ay_L1 |  10,963  1.46994807    .1559247   1.026725   -1.59214   2.117804

. eststo: ${SPEC} if overrep == 1, a(ay) robust
(est2 stored)

. estadd local ay_fe "Yes", replace

added macro:
              e(ay_fe) : "Yes"

. 
. * Regress on under-represented activities
. transform if overrep == 0

    Variable |     Obs      Weight        Mean   Std. Dev.       Min        Max
-------------+-----------------------------------------------------------------
   LS_acy_L1 |  10,389  .997493458    .0099378   .0106683   .0000559   .0474453

    Variable |     Obs      Weight        Mean   Std. Dev.       Min        Max
-------------+-----------------------------------------------------------------
   RD_acy_L1 |  10,389  .997493458    .4724869     .03455    .317207   .6756247

    Variable |     Obs      Weight        Mean   Std. Dev.       Min        Max
-------------+-----------------------------------------------------------------
     C_cy_L1 |  10,389  .997493458    1.122421   1.038642   -1.30504   2.477795

    Variable |     Obs      Weight        Mean   Std. Dev.       Min        Max
-------------+-----------------------------------------------------------------
     C_ay_L1 |  10,389  .997493458    .1757029   1.044195   -1.59214   2.117804

. eststo: ${SPEC} if overrep == 0, a(ay) robust
(est3 stored)

. estadd local ay_fe "Yes", replace

added macro:
              e(ay_fe) : "Yes"

. 
. * Generate regression table
. esttab, b(3) se r2 indicate("cy FEs = *.cy") s(ay_fe N r2, label("ay FEs" "Obs")) mtitles("Full" "L.RCA = 1" "L.RCA = 0")

------------------------------------------------------------
                      (1)             (2)             (3)   
                     Full       L.RCA = 1       L.RCA = 0   
------------------------------------------------------------
LS_acy_L1_dm       -0.266***       -0.326***       -1.851***
                  (0.044)         (0.050)         (0.524)   

RD_acy_L1_~d        0.059           0.236***        0.258***
                  (0.032)         (0.057)         (0.066)   

LSxC_ay            -0.137*         -0.144*          0.289   
                  (0.060)         (0.060)         (0.565)   

RDxC_ay             0.030           0.052          -0.268***
                  (0.040)         (0.057)         (0.072)   

LSxC_cy            -0.084***       -0.149***       -0.068   
                  (0.023)         (0.026)         (0.041)   

RDxC_cy            -0.142***       -0.208***       -0.242***
                  (0.026)         (0.047)         (0.035)   

_cons              -0.779          -1.359**        -0.587   
                  (0.399)         (0.492)         (0.361)   

cy FEs                Yes             Yes             Yes   
------------------------------------------------------------
ay FEs                Yes             Yes             Yes   
Obs             21352.000       10963.000       10389.000   
r2                  0.719           0.755           0.774   
------------------------------------------------------------
Standard errors in parentheses
* p<0.05, ** p<0.01, *** p<0.001

. esttab using "${TABS}/overrep.csv", b(3) se r2 indicate("cy FEs = *.cy") s(ay_fe N r2, label("ay FEs" "Obs")) mtitles("Full" "L.RCA = 1" "L.RCA = 0") replace
(output written to C:\Users\Ben.Davies\Dropbox/relatedness-complexity/tables/regressions/overrep.csv)

. 
. 
. ** URBAN AREA TYPE SUBSAMPLE REGRESSIONS
. 
. * Identify urban area type subsamples
. gen ua_type = cond(ua <= 100, "main", cond(ua <= 200, "secondary", "minor"))

. replace ua_type = "auckland" if inlist(ua, 2, 3, 4, 5)
(2,388 real changes made)

. table ua_type year, c(count G_acy) row col

------------------------------------------
          |              year             
  ua_type |   1991    2001    2013   Total
----------+-------------------------------
 auckland |    796     796     796   2,388
     main |  3,923   3,968   4,010  11,901
    minor |    604     635     696   1,935
secondary |  1,561   1,720   1,847   5,128
          | 
    Total |  6,884   7,119   7,349  21,352
------------------------------------------

. 
. * Clear regression table
. eststo clear

. 
. * Regress on full data
. transform

    Variable |     Obs      Weight        Mean   Std. Dev.       Min        Max
-------------+-----------------------------------------------------------------
   LS_acy_L1 |  21,352  2.46744153    .0139636   .0170877   .0000559   .2364017

    Variable |     Obs      Weight        Mean   Std. Dev.       Min        Max
-------------+-----------------------------------------------------------------
   RD_acy_L1 |  21,352  2.46744153    .4995447   .0423933    .317207   .7034064

    Variable |     Obs      Weight        Mean   Std. Dev.       Min        Max
-------------+-----------------------------------------------------------------
     C_cy_L1 |  21,352  2.46744153    .9906568   1.074616   -1.30504   2.477795

    Variable |     Obs      Weight        Mean   Std. Dev.       Min        Max
-------------+-----------------------------------------------------------------
     C_ay_L1 |  21,352  2.46744153    .1639203   1.033845   -1.59214   2.117804

. eststo: ${SPEC}, a(ay) robust
(est1 stored)

. estadd local ay_fe "Yes", replace

added macro:
              e(ay_fe) : "Yes"

. 
. * Regress on Auckland
. transform if ua_type == "auckland"

    Variable |     Obs      Weight        Mean   Std. Dev.       Min        Max
-------------+-----------------------------------------------------------------
   LS_acy_L1 |   2,388  .833488683    .0113489   .0119542   .0000559   .0541896

    Variable |     Obs      Weight        Mean   Std. Dev.       Min        Max
-------------+-----------------------------------------------------------------
   RD_acy_L1 |   2,388  .833488683    .4978291   .0496062   .3817829   .6185404

    Variable |     Obs      Weight        Mean   Std. Dev.       Min        Max
-------------+-----------------------------------------------------------------
     C_cy_L1 |   2,388  .833488683     2.06413   .2663403   1.693113   2.477795

    Variable |     Obs      Weight        Mean   Std. Dev.       Min        Max
-------------+-----------------------------------------------------------------
     C_ay_L1 |   2,388  .833488683    .2695267   1.042137   -1.59214   2.117804

. eststo: ${SPEC} if ua_type == "auckland", a(ay) robust
(est2 stored)

. estadd local ay_fe "Yes", replace

added macro:
              e(ay_fe) : "Yes"

. 
. * Regress on main UAs
. transform if ua_type == "main"

    Variable |     Obs      Weight        Mean   Std. Dev.       Min        Max
-------------+-----------------------------------------------------------------
   LS_acy_L1 |  11,901  1.41395954    .0140468   .0155081   .0000691   .1011774

    Variable |     Obs      Weight        Mean   Std. Dev.       Min        Max
-------------+-----------------------------------------------------------------
   RD_acy_L1 |  11,901  1.41395954    .4978548   .0348558   .3739043   .6140082

    Variable |     Obs      Weight        Mean   Std. Dev.       Min        Max
-------------+-----------------------------------------------------------------
     C_cy_L1 |  11,901  1.41395954    .5790655   .8653564  -.9995188   1.982243

    Variable |     Obs      Weight        Mean   Std. Dev.       Min        Max
-------------+-----------------------------------------------------------------
     C_ay_L1 |  11,901  1.41395954    .1533172   1.028708   -1.59214   2.117804

. eststo: ${SPEC} if ua_type == "main", a(ay) robust
(est3 stored)

. estadd local ay_fe "Yes", replace

added macro:
              e(ay_fe) : "Yes"

. 
. * Regress on secondary UAs
. transform if ua_type == "secondary"

    Variable |     Obs      Weight        Mean   Std. Dev.       Min        Max
-------------+-----------------------------------------------------------------
   LS_acy_L1 |   5,128  .174741034    .0202639   .0266851   .0005139   .2364017

    Variable |     Obs      Weight        Mean   Std. Dev.       Min        Max
-------------+-----------------------------------------------------------------
   RD_acy_L1 |   5,128  .174741034    .5133006   .0469852   .3490665   .6668305

    Variable |     Obs      Weight        Mean   Std. Dev.       Min        Max
-------------+-----------------------------------------------------------------
     C_cy_L1 |   5,128  .174741034   -.3513747    .654584  -1.072149   1.969794

    Variable |     Obs      Weight        Mean   Std. Dev.       Min        Max
-------------+-----------------------------------------------------------------
     C_ay_L1 |   5,128  .174741034   -.1343089   .9659702   -1.59214   2.117804

. eststo: ${SPEC} if ua_type == "secondary", a(ay) robust
(est4 stored)

. estadd local ay_fe "Yes", replace

added macro:
              e(ay_fe) : "Yes"

. 
. * Regress on minor UAs
. transform if ua_type == "minor"

    Variable |     Obs      Weight        Mean   Std. Dev.       Min        Max
-------------+-----------------------------------------------------------------
   LS_acy_L1 |   1,935  .045252273    .0351967   .0479277     .00123   .2315634

    Variable |     Obs      Weight        Mean   Std. Dev.       Min        Max
-------------+-----------------------------------------------------------------
   RD_acy_L1 |   1,935  .045252273    .5308298   .0659714    .317207   .7034064

    Variable |     Obs      Weight        Mean   Std. Dev.       Min        Max
-------------+-----------------------------------------------------------------
     C_cy_L1 |   1,935  .045252273   -.7384549   .3805616   -1.30504   .5299565

    Variable |     Obs      Weight        Mean   Std. Dev.       Min        Max
-------------+-----------------------------------------------------------------
     C_ay_L1 |   1,935  .045252273   -.2983005   .9222188   -1.59214   2.117804

. eststo: ${SPEC} if ua_type == "minor", a(ay) robust
(est5 stored)

. estadd local ay_fe "Yes", replace

added macro:
              e(ay_fe) : "Yes"

. 
. * Generate regression table
. esttab, b(3) se r2 indicate("cy FEs = *.cy") s(ay_fe N r2, label("ay FEs" "Obs")) mtitles("Full" "AKL" "Main eAKL" "Sec" "Minor")

--------------------------------------------------------------------------------------------
                      (1)             (2)             (3)             (4)             (5)   
                     Full             AKL       Main eAKL             Sec           Minor   
--------------------------------------------------------------------------------------------
LS_acy_L1_dm       -0.266***       -0.816**        -0.343***       -0.208*         -0.411***
                  (0.044)         (0.256)         (0.084)         (0.094)         (0.105)   

RD_acy_L1_~d        0.059           0.127           0.074           0.154           0.405   
                  (0.032)         (0.081)         (0.043)         (0.128)         (0.325)   

LSxC_ay            -0.137*          0.377*         -0.068           0.012          -0.074   
                  (0.060)         (0.147)         (0.087)         (0.139)         (0.160)   

RDxC_ay             0.030          -0.127           0.082           0.009          -0.314   
                  (0.040)         (0.095)         (0.054)         (0.128)         (0.310)   

LSxC_cy            -0.084***        0.008          -0.026          -0.022          -0.023   
                  (0.023)         (0.053)         (0.031)         (0.045)         (0.039)   

RDxC_cy            -0.142***        0.178***        0.011          -0.036          -0.232*  
                  (0.026)         (0.036)         (0.044)         (0.056)         (0.107)   

_cons              -0.779           1.113***        0.161           2.027***       -2.376***
                  (0.399)         (0.089)         (0.259)         (0.212)         (0.457)   

cy FEs                Yes             Yes             Yes             Yes             Yes   
--------------------------------------------------------------------------------------------
ay FEs                Yes             Yes             Yes             Yes             Yes   
Obs             21352.000        2388.000       11901.000        5128.000        1935.000   
r2                  0.719           0.921           0.732           0.592           0.618   
--------------------------------------------------------------------------------------------
Standard errors in parentheses
* p<0.05, ** p<0.01, *** p<0.001

. esttab using "${TABS}/urban-area.csv", b(3) se r2 indicate("cy FEs = *.cy") s(ay_fe N r2, label("ay FEs" "Obs")) mtitles("Full" "AKL" "Main eAKL" "Sec" "Minor
> ") replace
(output written to C:\Users\Ben.Davies\Dropbox/relatedness-complexity/tables/regressions/urban-area.csv)

. 
. 
. ** SUBSAMPLE DESCRIPTIVE STATS
. 
. * Initialise matrix
. matrix mat = J(26, 5, .)

. matrix rownames mat = full . complex_activity . simple_activity . other_activity . overrep . underrep . complex_city . simple_city . other_city . auckland . m
> ain . secondary . minor .

. matrix colnames mat = G_acy LS_acy_L1_dm RD_acy_L1_std C_ay_L1_std C_cy_L1_std

. transform

    Variable |     Obs      Weight        Mean   Std. Dev.       Min        Max
-------------+-----------------------------------------------------------------
   LS_acy_L1 |  21,352  2.46744153    .0139636   .0170877   .0000559   .2364017

    Variable |     Obs      Weight        Mean   Std. Dev.       Min        Max
-------------+-----------------------------------------------------------------
   RD_acy_L1 |  21,352  2.46744153    .4995447   .0423933    .317207   .7034064

    Variable |     Obs      Weight        Mean   Std. Dev.       Min        Max
-------------+-----------------------------------------------------------------
     C_cy_L1 |  21,352  2.46744153    .9906568   1.074616   -1.30504   2.477795

    Variable |     Obs      Weight        Mean   Std. Dev.       Min        Max
-------------+-----------------------------------------------------------------
     C_ay_L1 |  21,352  2.46744153    .1639203   1.033845   -1.59214   2.117804

. 
. * Generate descriptive statistics by subsample
. local c = 1

. foreach v in G_acy LS_acy_L1_dm RD_acy_L1_std C_ay_L1_std C_cy_L1_std {
  2. 
.         qui summ `v' ${WT}
  3.         matrix mat[1, `c'] = r(mean)
  4.         matrix mat[2, `c'] = r(sd)
  5.         
.         qui summ `v' ${WT} if complex_act
  6.         matrix mat[3, `c'] = r(mean)
  7.         matrix mat[4, `c'] = r(sd)
  8.         
.         qui summ `v' ${WT} if simple_act
  9.         matrix mat[5, `c'] = r(mean)
 10.         matrix mat[6, `c'] = r(sd)
 11.         
.         qui summ `v' ${WT} if !complex_act & !simple_act
 12.         matrix mat[7, `c'] = r(mean)
 13.         matrix mat[8, `c'] = r(sd)
 14.         
.         qui summ `v' ${WT} if overrep == 1
 15.         matrix mat[9, `c'] = r(mean)
 16.         matrix mat[10, `c'] = r(sd)
 17.         
.         qui summ `v' ${WT} if overrep == 0
 18.         matrix mat[11, `c'] = r(mean)
 19.         matrix mat[12, `c'] = r(sd)
 20.         
.         qui summ `v' ${WT} if complex_ua
 21.         matrix mat[13, `c'] = r(mean)
 22.         matrix mat[14, `c'] = r(sd)
 23.         
.         qui summ `v' ${WT} if simple_ua
 24.         matrix mat[15, `c'] = r(mean)
 25.         matrix mat[16, `c'] = r(sd)
 26.         
.         qui summ `v' ${WT} if !complex_ua & !simple_ua
 27.         matrix mat[17, `c'] = r(mean)
 28.         matrix mat[18, `c'] = r(sd)
 29.         
.         qui summ `v' ${WT} if ua_type == "auckland"
 30.         matrix mat[19, `c'] = r(mean)
 31.         matrix mat[20, `c'] = r(sd)
 32.         
.         qui summ `v' ${WT} if ua_type == "main"
 33.         matrix mat[21, `c'] = r(mean)
 34.         matrix mat[22, `c'] = r(sd)
 35.         
.         qui summ `v' ${WT} if ua_type == "secondary"
 36.         matrix mat[23, `c'] = r(mean)
 37.         matrix mat[24, `c'] = r(sd)
 38.         
.         qui summ `v' ${WT} if ua_type == "minor"
 39.         matrix mat[25, `c'] = r(mean)
 40.         matrix mat[26, `c'] = r(sd)
 41.         
.         local c = `c' + 1
 42. }

. matrix list mat

mat[26,5]
                     G_acy  LS_acy_L1_dm  RD_acy_L1_~d   C_ay_L1_std   C_cy_L1_std
        full     .18986789     1.489e-10    -5.713e-11    -1.303e-09    -1.024e-09
           .     4.4198222     1.7087715             1             1             1
complex_ac~y       1.12296     .47897862    -.18828948     .98479926     .07207376
           .     3.9863506     1.7714551     1.0726779     .51923563     .95290385
simple_act~y     -.8437081    -.23799342     .14000986    -.96259989    -.09332344
           .      4.310554     1.8258406     .95345192     .34150304     1.0408642
other_acti~y     .35574987    -.57355508     .12087973    -.11368136     .04318126
           .     5.0679082     .70448456     .84585966     .57890522     .99613446
     overrep    -.20659026     .27318609     .43311556    -.00773381    -.08320555
           .      4.341431     1.9860986      .8739988     .99311363     1.0137177
    underrep      .7741052    -.40257844    -.63825721     .01139686     .12261517
           .     4.4694706     1.0668323     .81498752     1.0100114     .96652383
complex_city      .4406263     -.1943255    -.04566314     .11393559     .70034984
           .     4.2508275     1.2504257      1.075976     1.0062919     .48846162
 simple_city     -.4322869     .42088716     .20568965    -.21124288    -1.4293973
           .     4.7489519     2.2675331      1.012393     .95757488     .28826198
  other_city     -.0505654     .21875035    -.00513005    -.14706475    -.83468888
           .     4.5683324     2.1446019     .77569553     .97003633     .56800301
    auckland     .84354228    -.26147041    -.04046899     .10214916     .99893635
           .     4.1619434     1.1954207     1.1701423     1.0080206     .24784698
        main     -.0837376     .00831457    -.03986322    -.01025594     -.3830124
           .     4.4635971     1.5508074     .82220024     .99503174     .80527034
   secondary    -.41692844     .63002765     .32448296    -.28846618    -1.2488475
           .     4.8608212     2.6685086     1.1083163     .93434759     .60913298
       minor    -.95771866     2.1233073     .73797249    -.44708929    -1.6090507
           .     4.4223939      4.792768      1.556174     .89202847     .35413731

. 
. 
. ** POSTSCRIPT
. 
. * Export data
. eststo clear

. drop max* min*

. save "${DATA}/regressions", replace
file C:\Users\Ben.Davies\Dropbox/relatedness-complexity/data/regressions.dta saved

. export delimited "${DATA}/regressions.csv", replace
file C:\Users\Ben.Davies\Dropbox/relatedness-complexity/data/regressions.csv saved

. 
. * Close log
. log close
      name:  <unnamed>
       log:  C:\Users\Ben.Davies\Dropbox/relatedness-complexity/logs/regressions.log
  log type:  text
 closed on:   7 Jan 2019, 16:48:37
----------------------------------------------------------------------------------------------------------------------------------------------------------------
